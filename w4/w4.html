'
<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">

  <link rel="stylesheet" type="text/css" href="../stylesheets/stylesheet.css" media="screen">
  <link rel="stylesheet" type="text/css" href="../stylesheets/github-dark.css" media="screen">
  <link rel="stylesheet" type="text/css" href="../stylesheets/print.css" media="print">
  <link rel="stylesheet" href="../stylesheets/mine.css">
  <link rel="stylesheet" href="cssgal.css">
  <title>4:-Electronics Production</title>
</head>

<body>
  <link rel="icon" type="image/png" href="../favicon.png">
  <header>
    <div class="container">
      <h1>Fab2016</h1>
      <h3>/ Module 4</h3>

      <section id="Module">
        <a href="../index.html">Home</a>
        <a href="../w1/w1.html" class="btn" title="Principles and Practices, Project Management ">1</a>
        <a href="../w2/w2.html" class="btn" title="Computer-Aided Design">2</a>
        <a href="../w3/w3.html" class="btn" title="Computer-Controlled Cutting">3</a>
        <a href="../w4/w4.html" class="btn" title="Electronics Production">4</a>
        <a href="../w5/w5.html" class="btn" title="3D Scanning and Printing">5</a>
        <a href="../w6/w6.html" class="btn" title="Electronics Design">6</a>
        <a href="../w7/w7.html" class="btn" title="Computer-Controlled Machining">7</a>
        <a href="../w8/w8.html" class="btn" title="Embedded Programming">8</a>
        <a href="../w9/w9.html" class="btn" title="Mechanical Design">9</a>
        <a href="../w10/w10.html" class="btn" title="Machine Design">10</a>
        <a href="../w11/w11.html" class="btn" title="Input Devices">11</a>
        <a href="../w12/w12.html" class="btn" title="Molding and Casting">12</a>
        <a href="../w13/w13.html" class="btn" title="Output Devices">13</a>
        <a href="../w14/w14.html" class="btn" title="Composites">14</a>
        <a href="../w15/w15.html" class="btn" title="Networking and Communications">15</a>
        <a href="../w16/w16.html" class="btn" title="Interface and Application Programming">16</a>
        <a href="../w17/w17.html" class="btn" title="Applications and Implications">17</a>
        <a href="../w18/w18.html" class="btn" title="Invention, Intellectual Property, and Income">18</a>
        <a href="../project/project.html" class="btn" title="Final Project:- Sparky the EDM PCB Mill">project</a>

      </section>
    </div>
  </header>
  <section>

    <h1>Electronics Production</h1>
    <p>
      Objectives for this module is focused on make an In-System-Programmer, a Fab-ISP. I have already made this during the one month long Pre-Academy. I first made Neil's version and then
      the USB key version (when I found that USB-mini cables are hard to come-by), using the components from the original board. So I'm not making a new Fab ISP, because its just a
      waste of resources, instead I'm thinking about exploring something new and help fellow students to make their ISP.
    </p>
    <p>
      Since I made the board before, I'm writing about that same experience.
      <br> First lets talk about the machine we are using.
    </p>
    <h3>
      Roland MDX-20 Mill</h3>

    <p>
      Perhaps the most used machine in the Fablab!. This machine can be used for making the PCB (milling and drilling), carving simple 3D structures in machine wax. The machine can be considered
      as a mini CNC mill. The workpiece is attached on a detachable plate which moves along the Y-axis. The drilling/milling tool (end mill) or the engraving tool is attached to the
      head which moves along the X-axis. The end mill is attached to a DC-motor (10 W) which is mounted on a carriage that allows the the movement along the third axis, the Z-axis.
    </p>
    <p>
      The motor (spindle) and the end mill spins at high RPM to remove the material from the workpiece as small chips. The milling bit primarily moves along the X-Y plane except for the beginning
      and the end of each section being milled. The end mill is designed such that it cuts into material from side, ie. the material removal happens during the lateral movement of the
      tool. The drilling bit has the main cutting edge at the end of the tool, which allows it to make holes in the workpiece. The tools will have flutes (spiral cut in the body of
      the end mill) along the length of the tool to facilitate in chip removal and sometimes to allow the flow of the coolant liquids(not for this machine) to the cutting area.
    </p>
    <figure>
      <img src="mill.jpg" alt="PCB mill" width="250" onclick="this.width='600'" onmouseout="this.width='250'">
      <figcaption style="display:inline; color:grey">The Mini CNC mill,
        <a href="http://www.rolanddg.com/product/3d/3d/mdx-20_15/mdx-20_15.html">Roland MDX-20.</a>. The user manual is available
        <a href="files/MDX-20-15.pdf">here</a> and
        <a href="http://support.rolanddga.com/docs/Documents/departments/Technical%20Services/Manuals%20and%20Guides/MDX-20-15_USE_ENGLISH_R5.pdf">here</a>.</figcaption>
    </figure>
    <p>
      This machine has a few more tricks under it's sleeve. It can be used as a 3D scanner using an Active Piezo Sensor. The machine is capable of scanning objects at 4 to 15 mm per second
      with a resolution of up to 0.05 mm. And the machine can also be used to mill soft metals like aluminum. So this machine is going to be explored further during the future modules
      on 3D-printing/scanning, and CNC milling.
      <figure>
        <img src="scan.jpg" alt="RAPS" width="250" onclick="this.width='600'" onmouseout="this.width='250'">
        <figcaption style="display:inline; color:grey">R.A.P.S, Roland Active Piezo Sensor, sensor for converting MDX-20 to a 3D scanner.</figcaption>
      </figure>
    </p>
    <p>
      There are a few thing to be careful when you are using the machine
      <ul>
        <li>
          Make sure that the Z-axis has enough room to move along z axis, else you will be left with a PCB not cut/drilled all the way or a wax model which is not complete or a PCB with copper
          where it is not supposed to be.
        </li>
        <li>
          Check the dimensions of the your original design and in the fab modules, after loading the .png. Resize if necessary.
        </li>
        <li>
          Also check the dimensions of the copper board being used, make sure that your design fits.</li>
        <li>
          Try to optimize your design and the placement of the PCB and origin; to reduce the wastage. If possible use the leftover from the previous milling operations.
        </li>
        <li>Use sacrificial material for PCB milling operations.</li>
        <li>
          Use proper settings and the bits, (especially, don't use the milling bit to cut, because you will break the delicate and costly milling bit. But if you use drilling bit to mill, you
          will only spoil the PCB, which is cheap).
        </li>
        <li>
          Take safety precautions, 'respect' the machine and the electricity.
        </li>
      </ul>
      So with this machine we were supposed to make
      <a href="http://fab.cba.mit.edu/content/projects/fabisp/">FabISP</a>. Our FabGuru for the Pre-Academy Luciano showed us how to use the machine once, during the Pre-Academy.
    </p>
    <h3>Fab-ISP</h3>
    <p>
      I made the FabISP not once but twice, first time
      <a href="http://fab.cba.mit.edu/content/projects/fabisp/">this one</a>,
      <figure>
        <img src="orig-bare.jpg" alt="FabISP original board" width="250" onclick="this.width='450'" onmouseout="this.width='250'">
        <figcaption style="display:inline; color:grey">Unpopulated FabISP board, fresh from the mill (With my name, added using gimp)</figcaption>
      </figure>
      and then
      <a href="http://fab.cba.mit.edu/content/projects/fabispkey/">the FabISP key</a> by Andy, because the mini USB cables are not as popular as micro. I was trying to replace the 'mini USB' port with the 'micro' and found that the pitch of the
      pins is not right. So I searched for other designs with micro USB port, and I came across this one. This second version can be plugged into the USB port directly, no need of any
      mini/micro USB cables. So decided to make it, less cables the better.

      <figure>
        <img src="isp.jpg" alt="FabISP key" width="250" onclick="this.width='450'" onmouseout="this.width='250'">
        <figcaption style="display:inline; color:grey">The FabISP key I made and the original ISP board from which I took the components, The thick Solder on the USB connector is for making it thicker for a better fit.</figcaption>
        <br>
        <img src="isp2.jpg" alt="FabISP key2" width="250" onclick="this.width='450'" onmouseout="this.width='250'">
        <figcaption style="display:inline; color:grey">Backside; Notice the Blue Vinyl I added this to make the USB connector slightly thicker for a snug fit.</figcaption>
      </figure>
      I didn't want to make a new board with new set of components because that will be a waste of components. Instead I just de-soldered components from the original ISP one by one and soldered
      them on the new board. All components except the IC and the ISP connector were removed using the soldering iron. IC and the ISP connector was removed using the heat-gun.
    </p>
    <p>
      <b>Now I want to talk a bit about my methods of soldering and de-soldering</b>, it may or may not be the right way, but works best for me (may be till I see a better method from
      someone).
    </p>
    <p>
      <b>The soldering first.</b>
      <br> Most important thing is that you need a clean surface to solder on, if the PCB is not clean enough, we have to do that first. The flux will help, but only to an extend. The flux
      used in the lead-free solder is a nasty stuff and recommend NOT TO BREATH it. I use a flux pen to dispense the flux in small quantities, the flux pen has rosin (comparatively
      safer, and is a natural substance) dissolved in a solvent (isopropyl alcohol). By the way, I made this mixture myself. Apply the flux only if necessary, too much is not good.
      Also keep in mind that the solder wire itself has flux built into the core.
    </p>
    <p>
      Begin the soldering from the center and move out, smaller components first. But the order is matter of personal choice, Important thing is that the soldered components shouldn't hinder
      access to the new components being soldered. For components like SMT resistors/capacitors start by putting a bit of solder onto one of the pad, place the component, melt the solder
      and align. Don't solder the other lead, not yet, you better wait till you place most of the similar components and verify once before soldering the second pads.
    </p>
    <p>
      For ICs, I start similarly, start with soldering one pin to the pad and align the IC properly while keeping the solder melted. Once aligned, remove the iron, you are now free to solder
      the remaining pins. I do drag soldering. Beginners can use the help of the solder-wick. Brush flux on all the pins of the IC, take a small piece of solder wick and wick enough
      solder on it. Now drag the iron along the pins with the solder-wick between, the wick will release just the right amount of solder to the pins. The flux is used to reduce the
      viscosity of the solder, to ease the flow of molten solder. Break the unwanted the solder bridges by touching up with the soldering iron or by wicking off the excess. I prefer
      the biggest tip (chisel type) bit for drag soldering. And with experience you will not require the solder wick, except for touch-up.
      <br> Some may suggest against this method, saying it uses more flux and all. But I don't think so. First of all the process is quick, with experience you can solder a 64 pin IC in
      less than a minute, and the excess solder applied is only very little. Also keep in mind that the flux within the lead-free solder is more hazardous than pure rosin based flux
      (but cleaning maybe necessary). Also in most cases the solder used will be less, as soldering each pin one by one tends to use more solder which causes a lot of bridging and require
      wicking off the excess.
      <br> By the way, I forgot to take videos of my process but this is a video that demonstrates the process of drag soldering, instead I'll show where I learned the trick from.
      <br>
      <iframe width="420" height="315" src="https://www.youtube.com/embed/wUyetZ5RtPs" frameborder="0" allowfullscreen></iframe>
      <br> This one is another video demonstrating the method I use for soldering the SMT capacitor/resistor.
      <br>
      <iframe width="420" height="315" src="https://www.youtube.com/embed/EWeAOemTY_E" frameborder="0" allowfullscreen></iframe>
      <br>
    </p>
    <p>
      How to de-solder?
      <br> One can either use the heat-gun or the soldering iron to remove the components. But for the IC or any component that has more than two pins you may want to use the heat gun.
      <br> Using the heat gun very easy, just start it, aim it toward the component to remove (don't forget to move it around to distribute the heat, else you will burn the component or
      PCB) and once the solder is melted just use the tweezers to remove the component. Applying light upward force during the process will cause the gravity to do the work.
      <br> Using the iron to remove the component is bit tricky, you need to heat both pads alternatively and as fast as possible, this will keep the solder on both the pads molten and
      you can use the iron itself to push the component away.
      <br> Once again I don't have the videos of my process, so I'm embedding a video of the same process.
      <br>
      <iframe width="560" height="315" src="https://www.youtube.com/embed/6XyrNjNXSo8" frameborder="0" allowfullscreen></iframe>
      <br>
    </p>
    <h3>Programming the Fab-ISP</h3>
    <p>
      Basically I followed
      <a href="http://archive.fabacademy.org/archives/2016/doc/programming_FabISP.html">this</a> guide, with a minor edit, the
      <code>make fuse</code> command is redundant,
      <code>make program</code> does it anyways.
    </p>
    <p>
      If all the connections are proper, and the components are all okay, the programming will be extremely easy. Like someone said "if you know what to do, its very easy". If everything
      works perfectly, the programing involves
      <ul>
        <li>Extract the source code.</li>
        <li>Edit the Makefile to choose the correct IC and the clock speed ( for the one being programmed) and the programmer.</li>
        <li>Start clean by
          <code>make clean</code>
        </li>
        <li>Compile and generate hex code by
          <code>make hex</code>
        </li>
        <li>Run
          <code>make program</code> (may be as root depending on the user privileges)</li>
      </ul>
    </p>
    <p>
      The Linux command
      <code>dmesg</code> and
      <code>lsusb</code> comes very handy during this stage.
      <code>dmesg</code> will give some idea if the board is working or not. You will get some kernel messages when the computer detects the new hardware.
    </p>
    <p>
      I tried Atmel ICE first, but no success. It was my first time using that hardware and was a bit complicated. Then I tried another ISP, with my friend
      <a href="http://archive.fabacademy.org/archives/2016/fablabtrivandrum/students/384/index.html">
        Yadu</a>. Which worked just fine, I ran
      <code>make clean && make hex</code>, which compiled the source to generate the hex code,
      <code>make program</code>, which flashed the hex code to the chip, burned the fuse-bits and verified. Next step was to remove the jumper to disable the programming mode.
      <!-- TODO: improve the sentence -->
      <br> At this stage I had a working ISP, and I could see the entry (<code>Bus 001 Device 025: ID 1781:0c9f Multiple Vendors USBtiny</code>)
      <pre>
                sibu@archSSD ~ % lsusb
                Bus 004 Device 002: ID 8087:8000 Intel Corp.
                Bus 004 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
                Bus 003 Device 002: ID 8087:8008 Intel Corp.
                Bus 003 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
                Bus 002 Device 002: ID 174c:1351 ASMedia Technology Inc.
                Bus 002 Device 001: ID 1d6b:0003 Linux Foundation 3.0 root hub
                Bus 001 Device 002: ID 413c:2107 Dell Computer Corp.
                Bus 001 Device 025: ID 1781:0c9f Multiple Vendors USBtiny
                Bus 001 Device 024: ID 0bb4:0f91 HTC (High Tech Computer Corp.)
                Bus 001 Device 003: ID 046d:c077 Logitech, Inc. M105 Optical Mouse
                Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
          </pre> and
      <code>dmesg</code>
      <pre>
            [11184.067876] usb 1-6: new low-speed USB device number 26 using xhci_hcd
          </pre> The ISP was tested by using the new board as a programmer to program an Arduino board I have.
      <br>Later, I moved all the components to a new board, to make the USB Key version. This board didn't work at the first time because of the loose connection, the board is very thin
      for a snug fit in USB port. So I made the connector area slightly thicker by applying generous amount of solder on the 4 contacts (I applied solder on the entire board too as
      the copper started to tarnish). Little bit of extra flux was also used to make the solder flow nicely and form a smooth profile (else the board may get stuck in the USB port).
      A piece of vinyl was also pasted on the backside of the board.
      <!-- TODO: pics and pics -->
      <!-- TODO: table troubleshoot -->
    </p>
    <p>
      <b>Mission Accomplished</b>
      <br> Now I have a perfect little ISP of my own, and no need of any USB cables. I can now start programming new micro-controller boards, help others to give 'soul' to their own ISPs....
    </p>
    <p>
      Although this works perfectively as an ISP, there is no LED to indicate communication. I like to have LEDs on Rx and Tx channels like the ones in an Arduino board. I found another Fabable
      ISP,
      <a href="http://fabacademy.org/archives/2015/doc/FabTinyIsp/index.html">FabTinyIsp</a>. This has a few more features like LEDs on Rx/Tx lines to indicate communication, a reset switch, a smaller chip etc. I'm thinking about making this board, with
      one modification, the ISP connector to the side, the connection would be made from the side rather than top of the board. Or I will solder the ISP on the board itself and I plan
      for a makeshift conformal coating, using 'glue-sticks'. I'll update once I start working on this.
      <!-- TODO: make this new board -->
    </p>
    <p>
      I changed my mind;
      <br> Instead of making the FabTinyISP, I decided to modify the design of the FabISP key I have made; just added two LEDs and current limiting resistors. The LEDs were added on Rx
      and Tx lines, ie MISO and MOSI lines.
      <figure>
        <img src="ispled-1.jpg" alt="FabISP with LED" width="550" onclick="this.width='950'" onmouseout="this.width='550'">
        <figcaption style="display:block; color:grey">FabISP key modded for Rx/Tx LEDs. The green pads are for a jumper.</figcaption>
      </figure>
      <h4>Eagle Files</h4>
      <a href="s-isp.brd" download="sibu-FabISPwLED.brd">Board</a>
      <a href="s-isp.sch" download="sibu-FabISPwLED.sch">Schematic</a>
    </p>
    <p>
      I made a few changes again,
      <ul>
        <li>Removed the two solder jumpers, one of the jumper supplies is for supplying power via ISP connection and I need this. Another jumper is for enabling the programmable mode of
          the chip, which I don't want as I have already programmed the chip and I am not intended to change it. The jumper pads are still there but not solder jumpers anymore, more
          like test points.</li>
        <li>Replaced the crystal oscillator with the resonator, effectively one component replaces three because I can lose the two capacitors connected to the crystal as well.</li>
        <li>
          Removed the .1uf capacitor in parallel with the 1uf one(between VCC and GND), the change is only 10% (within the tolerance of the capacitor?). If this is going to create any problem,
          I will stack this capacitor on top of the 1uf one, but I don't think its going to make any problem.
        </li>
        <li>Removed the 0ohm resistor/jumper.</li>
      </ul>
      <br>
      <video width="620" controls>
        <source src="re-design.mp4" type="video/mp4"> Your browser does not support the video tag.
      </video>
      <br> The new design is here.
      <figure>
        <img src="ispled-2.jpg" alt="FabISP with LED v2" width="550" onclick="this.width='950'" onmouseout="this.width='550'">
        <figcaption style="display:block; color:grey">FabISP key modded for Rx/Tx LEDs version 2. The green pads are for a jumper or will be connected via the ground plane.</figcaption>
      </figure>
    </p>
    <p>
      The short vertical bottom layer trace (blue) is not supposed to be connected, the pads are not to be drilled either. This is more like a test point, when shorted it enables the chip
      to programmed.
    </p>

    <h4>Exporting the Eagle design to .png for milling.</h4>
    <p>
      Below is gallery showing the process of exporting the image to .png files for cutting and milling traces operations.
      <div class="CSSgal">
        <!-- Don't wrap targets in parent -->
        <s id="s1"></s>
        <s id="s2"></s>
        <s id="s3"></s>
        <s id="s4"></s>
        <s id="s5"></s>
        <s id="s6"></s>
        <s id="s7"></s>
        <s id="s8"></s>
        <s id="s9"></s>
        <s id="s10"></s>
        <s id="s11"></s>
        <s id="s12"></s>
        <s id="s13"></s>
        <s id="s14"></s>
        <s id="s15"></s>
        <s id="s16"></s>
        <s id="s17"></s>
        <s id="s18"></s>
        <s id="s19"></s>
        <s id="s20"></s>
        <s id="s21"></s>
        <s id="s22"></s>

        <div class="slider">
          <div style="background-image:url('isp-des/1.jpg');"></div>
          <div style="background-image:url('isp-des/2.jpg');"></div>
          <div style="background-image:url('isp-des/3.jpg');"></div>
          <div style="background-image:url('isp-des/4.jpg');"></div>
          <div style="background-image:url('isp-des/5.jpg');"></div>
          <div style="background-image:url('isp-des/6.jpg');"></div>
          <div style="background-image:url('isp-des/7.jpg');"></div>
          <div style="background-image:url('isp-des/8.jpg');"></div>
          <div style="background-image:url('isp-des/9.jpg');"></div>
          <div style="background-image:url('isp-des/10.jpg');"></div>
          <div style="background-image:url('isp-des/11.jpg');"></div>
          <div style="background-image:url('isp-des/12.jpg');"></div>
          <div style="background-image:url('isp-des/13.jpg');"></div>
          <div style="background-image:url('isp-des/14.jpg');"></div>
          <div style="background-image:url('isp-des/15.jpg');"></div>
          <div style="background-image:url('isp-des/16.jpg');"></div>
          <div style="background-image:url('isp-des/17.jpg');"></div>
          <div style="background-image:url('isp-des/18.jpg');"></div>
          <div style="background-image:url('isp-des/19.jpg');"></div>
          <div style="background-image:url('isp-des/20.jpg');"></div>
        </div>

        <div class="prevNext">
          <div>
            <a href="#s20">20</a>
            <a href="#s2">2</a>
          </div>
          <div>
            <a href="#s1">1</a>
            <a href="#s3">3</a>
          </div>
          <div>
            <a href="#s2">2</a>
            <a href="#s4">4</a>
          </div>
          <div>
            <a href="#s3">3</a>
            <a href="#s5">5</a>
          </div>
          <div>
            <a href="#s4">4</a>
            <a href="#s6">6</a>
          </div>
          <div>
            <a href="#s5">5</a>
            <a href="#s7">7</a>
          </div>
          <div>
            <a href="#s6">6</a>
            <a href="#s8">8</a>
          </div>
          <div>
            <a href="#s7">7</a>
            <a href="#s9">9</a>
          </div>
          <div>
            <a href="#s8">8</a>
            <a href="#s10">10</a>
          </div>
          <div>
            <a href="#s9">9</a>
            <a href="#s11">11</a>
          </div>
          <div>
            <a href="#s10">10</a>
            <a href="#s12">12</a>
          </div>
          <div>
            <a href="#s11">11</a>
            <a href="#s13">13</a>
          </div>
          <div>
            <a href="#s12">12</a>
            <a href="#s14">14</a>
          </div>
          <div>
            <a href="#s13">13</a>
            <a href="#s15">15</a>
          </div>
          <div>
            <a href="#s14">14</a>
            <a href="#s16">16</a>
          </div>
          <div>
            <a href="#s15">15</a>
            <a href="#s17">17</a>
          </div>
          <div>
            <a href="#s16">16</a>
            <a href="#s18">18</a>
          </div>
          <div>
            <a href="#s17">17</a>
            <a href="#s19">19</a>
          </div>
          <div>
            <a href="#s18">18</a>
            <a href="#s20">20</a>
          </div>
          <div>
            <a href="#s19">19</a>
            <a href="#s1">1</a>
          </div>
        </div>

        <div class="bullets">
          <a href="#s1">1</a>
          <a href="#s2">2</a>
          <a href="#s3">3</a>
          <a href="#s4">4</a>
          <a href="#s5">5</a>
          <a href="#s6">6</a>
          <a href="#s7">7</a>
          <a href="#s8">8</a>
          <a href="#s9">9</a>
          <a href="#s10">10</a>
          <a href="#s11">11</a>
          <a href="#s12">12</a>
          <a href="#s13">13</a>
          <a href="#s14">14</a>
          <a href="#s15">15</a>
          <a href="#s16">16</a>
          <a href="#s17">17</a>
          <a href="#s18">18</a>
          <a href="#s19">19</a>
          <a href="#s20">20</a>
        </div>
      </div>
    </p>
    <p>
      <strike>The .png files for cutting and milling the traces are shown below.</strike> There were few mistakes and the edited images/eagle files can be found further down.
      <figure>
        <img src="s-isp-trace.png" alt="my ISP trace" width="350" onclick="this.width='550'" onmouseout="this.width='350'">
        <img src="s-isp-cut.png" alt="my ISP cut" width="350" onclick="this.width='550'" onmouseout="this.width='350'">
        <figcaption style="display:block; color:grey">The trace file and cutout cum drill files. The length of the image is 40.25mm, for proper scaling.</figcaption>
      </figure>
    </p>
    <p>
      I made a few mistakes in the previous design/milling operation.
      <ul>
        <li>Made holes for via on the test pads(the pads which are to be shorted only if the chip needed programming)</li>
        <li>The cutout path in the milling layer was too thin, it should have been 1/32" or about 0.8mm. The result was the board won't get cut with default settings, when I forced the
          bit size as 0.3mm in fabmodules, the board got cut but one of the traces became too thin. Picture can be seen below.
        </li>
      </ul>
      <figure>
        <img src="milling/1.jpg" alt="clean 1" width="350">
        <img src="milling/2.jpg" alt="clean 2" width="350">
        <figcaption style="display:block; color:grey">After cleaning the required area of the double sided PCB using brass-wire brush and detergent.</figcaption>
        <img src="milling/3.jpg" alt="mill 1" width="350">
        <img src="milling/4.jpg" alt="mill 2" width="350">
        <img src="milling/5.jpg" alt="rslt 1" width="350">
        <figcaption style="display:block; color:grey">During the milling operation.</figcaption>
        <img src="milling/6.jpg" alt="rslt 2" width="350" onclick="this.width='750'" onmouseout="this.width='350'">
        <figcaption style="display:block; color:grey">Before cutting, notice the bottom trace didn't get separated.</figcaption>
        <img src="milling/7.jpg" alt="rslt 3" width="350" onclick="this.width='750'" onmouseout="this.width='350'">
        <figcaption style="display:block; color:grey">The trace at the bottom is almost gone.</figcaption>
      </figure>
    </p>
    <p>
      <figure>
        <img src="s-isp-fin.png" alt="final ISP " width="350" onclick="this.width='550'" onmouseout="this.width='350'">
        <img src="s-isp-trace-fin.png" alt="final ISP trace" width="350" onclick="this.width='550'" onmouseout="this.width='350'">
        <img src="s-isp-cut-fin.png" alt="final ISP cut" width="350" onclick="this.width='550'" onmouseout="this.width='350'">
        <figcaption style="display:block; color:grey">The
          <b>final</b> trace file and cutout cum drill files. The length of the image is 40.75mm, for proper scaling.</figcaption>
      </figure>
    </p>
    <h4>Final Eagle Files</h4>
    <a href="s-ispv2.brd" download="sibu-FabISPwLED-v2.brd">Board-v2</a>
    <a href="s-ispv2.sch" download="sibu-FabISPwLED-v2.sch">Schematic-v2</a>
    <p>
      <h3>Making and Debugging</h3>
      <figure>
        <img src="s-ispv2.png" alt="final ISP component place " width="350" onclick="this.width='750'" onmouseout="this.width='350'">
        <figcaption style="display:block; color:grey">The component placement diagram.</figcaption>
        <img src="s-ispv2-1.jpg" alt="final ISP top populated" width="350" onclick="this.width='950'" onmouseout="this.width='350'">
        <figcaption style="display:block; color:grey">The top layer, populated with components.</figcaption>
        <img src="s-ispv2-2.jpg" alt="final ISP bottom" width="350" onclick="this.width='550'" onmouseout="this.width='350'">
        <figcaption style="display:block; color:grey">The bottom layer, fully tinned to prevent rusting and discoloration, Notice the interconnects between the layers, I used few strands of thin copper wires from the soldering
          wick to make this. The tinning process is slightly thicker at USB connector area to make it thicker for a snug fit.</figcaption>
      </figure>
    </p>
    <h4 style="color:red">Error</h4>
    <p>
      There he is! I missed him so much!
      <br> The command <code>dmesg</code> shows the following output on plugging the device in the USB port.
      <figure>
        <img src="s-isp-err.png" alt="error " width="750">
      </figure>
      <br> I spent some time figuring out what this error is.
      <ul>
        <li>Checked the ssoldering: There was no issue in soldering, all the connections are proper.</li>
        <li>Found that this is because system detected something and the device is not behaving as a USB device should.</li>
        <li>First I suspected that the new LEDs were the culprit. SO I removed the xurrent limiting resistors of the LEDs as reheating the LEDs again and again is not good.
          <b>No Luck</b>
        </li>
        <li>Used a DSO to see if I put the right resonator, I might have used 8MHz instead of 20, because I took a component which fell of from the reel, there is chance that someone took
          it by mistake and put it in the wrong box. </li>
        <li>Great!! No signal from the resonator, what could be the problem? Short circuit?</li>
        <li>I found the problem!
          <img src="s-ispv2-short.jpg" alt="short" width="350"> </li>
        <li>There was thin strand of copper shorting the two pins the resonator was connected and another nearby pin to the right. This piece of copper might have came from the soldering
          wick during my drag soldering or from the PCB itself, the thin copper left behind by the milling process. </li>
        <li>After cleaning the short circuit, the PC
          <h4>recognized</h4> the board.</li>
        <li>Soldered the Resistors back.</li>
        <li>The LEDs are not glowing, but this was expected as the MISO/MOSI pins are kept at a high impedance state when not in use.</li>
        <li>So I connected an Arduino board and tried programming it via the FabISP.</li> Now the LEDs are lighting up, but again, only when there is data flow through the MISO/MOSI pins.
      </ul>
    </p>
    <p>
      Since the board is working happily with two LEDs, I thought why not one more, a power LED, an indicator that the ISP is getting power. I didn't want to make a new board, so I just soldered
      an LED and a 499 Ohm resistor to the board, between the VCC and GND.
      <figure>
        <img src="s-ispv2-fin1.jpg" alt="final ISP with power led " width="350" onclick="this.width='750'" onmouseout="this.width='350'">
        <figcaption style="display:block; color:grey">The power LED added, the new LED and the resistor is connected like a flyover bridge over two traces.</figcaption>
        <img src="s-ispv2-fin2.jpg" alt="ISP with power led on" width="350" onclick="this.width='750'" onmouseout="this.width='350'">
        <figcaption style="display:block; color:grey">The power LED shines when I plugged the ISP to a power bank.</figcaption>
        <img src="isp-evo.jpg" alt="ISP evolution" width="350" onclick="this.width='750'" onmouseout="this.width='350'">
        <figcaption style="display:block; color:grey">Evolution of the ISP, and the remnants. The heart of the ISP the AtTiny and few critical components like the Zener Diode and few of the resistors and the capacitors moved on
          to the new boards.</figcaption>
      </figure>
    </p>
    <h3>Conformal Coating</h3>
    <p>
      Here is the picture of the ISP in a makeshift conformal coating. I used hot melt glue as the conformal coating, the tools used for this are the glue gun, hot air gun and 'wet finger'
      to shape the softened glue. This will protect the board again the atmosphere and other elements causing corrosion, rough handling, vibrations, and short circuits from dirt and
      water.
      <br>
      <img src="conformal.jpg" alt="conformal coating" width="350" onclick="this.width='750'" onmouseout="this.width='350'">
    </p>
    <p>
      Here is the video of the new ISP in action, the board is used to program blink LED program to a 20MHz Fabduino variant I made for <a href="../w6/w6.html">Electronics Design</a>.
      <video width="620" controls>
        <source src="isp prog.m4v" type="video/mp4"> Your browser does not support the video tag.
      </video>
    </p>

  </section>

</body>

</html>
