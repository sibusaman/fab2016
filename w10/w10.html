<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">

  <link rel="stylesheet" type="text/css" href="../stylesheets/stylesheet.css" media="screen">
  <link rel="stylesheet" type="text/css" href="../stylesheets/github-dark.css" media="screen">
  <link rel="stylesheet" type="text/css" href="../stylesheets/print.css" media="print">
  <link rel="stylesheet" href="../stylesheets/mine.css">
  <link rel="stylesheet" href="cssgal.css">
  <title>10:-Machine Design</title>
</head>

<body>
  <link rel="icon" type="image/png" href="../favicon.png">
  <header>
    <div class="container">
      <h1>Fab2016</h1>
      <h3>/ Module 10</h3>

      <section id="Module">
        <a href="../index.html">Home</a>
        <a href="../w1/w1.html" class="btn" title="Principles and Practices, Project Management ">1</a>
        <a href="../w2/w2.html" class="btn" title="Computer-Aided Design">2</a>
        <a href="../w3/w3.html" class="btn" title="Computer-Controlled Cutting">3</a>
        <a href="../w4/w4.html" class="btn" title="Electronics Production">4</a>
        <a href="../w5/w5.html" class="btn" title="3D Scanning and Printing">5</a>
        <a href="../w6/w6.html" class="btn" title="Electronics Design">6</a>
        <a href="../w7/w7.html" class="btn" title="Computer-Controlled Machining">7</a>
        <a href="../w8/w8.html" class="btn" title="Embedded Programming">8</a>
        <a href="../w9/w9.html" class="btn" title="Mechanical Design">9</a>
        <a href="../w10/w10.html" class="btn" title="Machine Design">10</a>
        <a href="../w11/w11.html" class="btn" title="Input Devices">11</a>
        <a href="../w12/w12.html" class="btn" title="Molding and Casting">12</a>

      </section>
    </div>
  </header>
  <section>

    <h1>Machine Design</h1>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <h3>Before you begin, this page is not about the machine design. Since the last module and this one is essentially the part of same goal, I have documented everything in the
      <a href="../w9/w9.html">
        Mechanical Design</a> module.
    </h3>
    <br>I'm using this page to document my experience of trying to make my own version of gestalt stepper controller and milling double sided board. I'll also be using this page for documenting my experience with other
    controllers, especially networked controllers.
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>

    <h2>Gestalt Node</h2>
    <p>
      For the machine week, we are recommended to use modular design, reconfigurable X,Y and Z stages. So it's better to use modular electronics too. Our instructor Francisco asked me to
      take a look at the Gestalt Stepper Driver/Gestalt Node. He asked me to go through
      <a href="http://mtm.cba.mit.edu/machines/stages/">mtm.cba.mit.edu/machines/stages
      </a> page and the
      <a href="https://github.com/imoyer/086-005">github</a> page. Later I found a few other useful resources and articles
      <ul>
        <li>
          <a href="https://github.com/imoyer/gestalt/blob/master/nodes.py">The Gestalt Framework</a>
        </li>
        <li>An
          <a href="https://hackaday.com/tag/ilan-moyer/">Hackaday</a> article which links to
          <a href="http://monograph.io/james/m-mtm">this</a> wonderful page.</li>
      </ul>
    </p>
    <p>
      <figure>
        <img src="fabnet.jpg" alt="fabnet" width="600" onmouseover="this.width='1200'" onmouseout="this.width='600'" />
        <figcaption style="display:block; color:grey">Gestalt nodes as Stepper drivers for a single Stepper/Axis.</figcaption>
      </figure>
      The Gestalt node is a single stepper driver that is controlled by the PC. All the commands to the motor, how many steps to move in what direction is sent from the PC via an USB to RS-485
      converter. The individual nodes can be then daisy chained to a bus that connects them to the RS-485 lines and the power for the motor and the board as well as few other signals.
    </p>
    <h2>Modified Gestalt Node</h2>
    <p>
      These boards are required to make a fully module stages. Or it can be something similar, a networked stepper controller like our instructors used for his final project
      <a href="http://fabacademy.org/archives/2013/students/sanchez.francisco/final-project/index.html">FAB 9000</a>. Anyway I accepted his challenge to make the Gestalt node in-house, because buying them will cost about $500/- as per our instructor. But the BOM will cost much less
      than that, but there are few problems some of the components are not a part of the FabLab inventory or some components like the Stepper driver A4982 is not so common is India,
      but we get A4988 as breakout boards and they are very cheap. Fortunately I have a several of these breakout boards with me.
    </p>
    <p>
      I also thought about replacing the RS-484 with some easily available and familiar serial protocol, but decided not to, as RS-485 is using a differential pair and capable of long ranges
      (upto 1200m) and high speed (a few Mbits/s) communication, it also supports several devices in a single daisy chain.
    </p>
    <p>
      So I decided to redesign the Gestalt node mainly to use A4988 breakout. Other differences includes the modifications on on the pads and spacings so that it can be milled in MDX-20 mill.
      <ul>
        <li>The A4982 and several components associated will be replaced by A4988 breakout connector </li>
        <li>Some of the passive components packages has been changed from smaller 0805 to 1206.</li>
        <li>The pads of the connectors has been elongated so that they won't be too thin after milling, else they will come out while milling, placing the component, cleaning or while soldering.</li>
        <li>Thicker traces for Motor Power Bus.</li>
        <li>A4988 is capable of 1/16 micro-stepping, so I used an extra Digital PIN from the Micro-Controller.</li>
      </ul>
    </p>
    <p>
      <h3>Here is the original Schematic of the
        <a href="https://github.com/imoyer/086-005/tree/master/board/rev0.3">Gestalt Node V0.3</a>
      </h3>
      <br>
      <figure>
        <img src="org-sch.png" alt="original schematic" width="600" onmouseover="this.width='1800'" onmouseout="this.width='600'" />
        <figcaption style="display:block; color:grey">Original Schematic.</figcaption>
      </figure>
      Now
      <h3>Here is the modified version.</h3>
      <figure>
        <img src="sch.png" alt="modified schematic" width="600" onmouseover="this.width='1800'" onmouseout="this.width='600'" />
        <figcaption style="display:block; color:grey">Modified Gestalt Node Schematic with A4988.</figcaption>
      </figure>
      <h3>The Boards</h3>
      <br>
      <h3>Original</h3>
      <figure>
        <img src="org-brd.png" alt="original board" width="600" onmouseover="this.width='1800'" onmouseout="this.width='600'" />
        <figcaption style="display:block; color:grey">Original Gestalt Node with A4982.</figcaption>
      </figure>
      <h3>Modified</h3>
      <figure>
        <img src="brd.png" alt="modified board" width="600" onmouseover="this.width='1800'" onmouseout="this.width='600'" />
        <figcaption style="display:block; color:grey">Modified Gestalt Node with A4988.</figcaption>
      </figure>
      <h3>Download Eagle files.</h3>
      <br>
      <a href="gest-mod.brd" download="sibu-modified-gestalt-node.brd">Board</a>.
      <a href="gest-mod.sch" download="sibu-modified-gestalt-node.sch">Schematic</a>.
      <a href="gest-mod.lbr" download="sibu-modified-gestalt-node.lbr">Library</a>.
    </p>
    <h2>Milling the Double Sided Board</h2>
    <p>
      This was teh first time I'm doing a double sided board, and nobody here at the lab had the experience of making the double sided board. My initial designs were supposed to be milled
      with 1/100", in some areas. But that bit is too fragile, event the slightest misalignment (in the leveling), or the flexible nature of the Acrylic workpiece holder was sufficient
      to break the bit. I had two failed attempt with 1/100".
      <ul>
        <li>First time I could mill one side of the board completely and the bit broke when I started milling the second side, I guess it happened because the rough edges on the other surface
          might have disturbed the leveling. Another possible reason could be that I milled the entire board out of 1/100" bit, the bit clearly is not made for such heavy duty. </li>
        <li>Second time everything was going perfectly and I used the bit to mill only some small sections where the spacing between the traces/pads are too narrow for the 1/64". So I milled
          the board using 1/64" first and then moved on to 1/100" for some specific areas. But it failed this time too, during the transition from the cutting zone to an area which
          was already milled by the 1/64". I cannot find a proper reason for this, though a foolish guess could be that the bit broke when the horizontal load on the bit disappeared
          suddenly and the it caused the bit to release all the spring energy at once and broke it.</li>
        <li>Anyway I didn't want to experiment more with this expensive fragile 1/100" bit, my final project is anyway an EDM based PCB mill, which in theory could do better than what this
          machine can do.</li>
      </ul>
      <h4>Here are the few failed attempts and few test pieces.</h4>
      <figure>
        <img src="doub1.jpg" alt="alignment guides" width="600" onmouseover="this.width='800'" onmouseout="this.width='600'" />
        <figcaption style="display:block; color:grey">The alignment guides. The three boards were stuck to the base and helps in precisely aligning the workpiece.</figcaption>

        <img src="doub3.jpg" alt="board top" width="600" onmouseover="this.width='800'" onmouseout="this.width='600'" />
        <figcaption style="display:block; color:grey">The top side of the board. This side of the board was entirely milled using 1/100", bad idea, but this side came out nicely.</figcaption>

        <img src="doub2.jpg" alt="board bot" width="600" onmouseover="this.width='800'" onmouseout="this.width='600'" />
        <figcaption style="display:block; color:grey">The bottom side with the vias and holes drilled. The milling of this side is incomplete as the bit broke. But you can see that the holes are perfectly aligned. The holes are
          drilled from both the sides, that is, the holes were drilled halfway from one side and other half from the other side. The PCB is actually 1.7mm thick so I only drill .8mm
          from one side, leaving a thin .1mm section in between.</figcaption>
      </figure>
    </p>
    <p>
      I have refined my design a lot from what is seen above and tuned the board so that it can be milled using 1/64" board, bit at the cost of a few thinner traces (not a big deal) and few
      extra vias to be milled and soldered. The downloadable eagle files are of the final design.
    </p>



  </section>

</body>

</html>
